{"index.html":"<!doctype html>\n<html>\n  <head>\n    <meta charset=\"utf-8\" />\n    <title>ecstaz</title>\n    <meta\n      name=\"viewport\"\n      content=\"width=device-width, initial-scale=1, maximum-scale=1\"\n    />\n  <script type=\"text/javascript\">\n    !localStorage.getItem('webfoundry:dev') && (function(c,l,a,r,i,t,y){\n      c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};\n      t=l.createElement(r);t.async=1;t.src=\"https://www.clarity.ms/tag/\"+i;\n      y=l.getElementsByTagName(r)[0];y.parentNode.insertBefore(t,y);\n    })(window, document, \"clarity\", \"script\", \"ubdofctfo6\");\n  </script>\n  </head>\n  <body class=\"flex flex-col [&>div:first-child]:flex-1 min-h-screen\">\n    <script type=\"module\">\n      (async () => {\n        window.rootPrefix = /^\\/(files|preview)\\//.test(location.pathname) ? location.pathname.split('/').slice(0, 4).join('/') : '/';\n        if (rootPrefix === '/' || rootPrefix === '/collab.html') rootPrefix = '.';\n        let wforigin = new URL(location.href).searchParams.get('isolate') || location.origin;\n        if (/^(\\w+\\.)?(webfoundry.app|webfoundry\\d+\\.netlify\\.app|localhost)$/.test(wforigin)) throw new Error(`Bad isolation origin`);\n        if (new URL(location.href).searchParams.get('isolate') != null) {\n          await navigator.serviceWorker.register('/sw.js');\n          await navigator.serviceWorker.ready;\n          if (!navigator.serviceWorker.controller) return location.reload();\n          let parts = location.pathname.slice(1).split('/');\n          let tabId = parts[1];\n          window.wfThisProject = parts[2];\n          navigator.serviceWorker.addEventListener('message', async event => {\n            let { type, project, path } = event.data || {};\n            if (type !== 'fetch' || wfThisProject !== project) return;\n            let port = event.ports?.[0];\n            if (!port) return;\n            let handler = ev => {\n              let data = ev.data || {};\n              if (data.type !== 'fetch:res' || data.project !== project || data.path !== path) return;\n              removeEventListener('message', handler);\n              port.postMessage(data);\n            };\n            addEventListener('message', handler);\n            parent.postMessage({ type: 'fetch', project, path }, wforigin);\n          });\n          let register = () => navigator.serviceWorker.controller.postMessage({ type:'webfoundry-register-tab', tabId });\n          navigator.serviceWorker.addEventListener('controllerchange', register);\n          register();\n          if (!location.pathname.startsWith('/preview/')) {\n            let path = parts.slice(3).join('/');\n            if (path !== 'index.html') {\n              let handler = async ev => {\n                let data = ev.data || {};\n                if (data.type !== 'fetch:res' || data.project !== wfThisProject || data.path !== path) return;\n                removeEventListener('message', handler);\n                document.open();\n                document.write(await data.data.text());\n                document.close();\n              };\n              addEventListener('message', handler);\n              parent.postMessage({ type: 'fetch', project: wfThisProject, path }, wforigin);\n              return;\n            }\n          }\n          await new Promise(pres => setTimeout(pres, 100));\n        }\n        if (location.pathname.includes('/files/')) return;\n        let [, md, mapp] = await Promise.all([\n          import(`${rootPrefix}/webfoundry/head.js`),\n          import(`${rootPrefix}/webfoundry/dominant.js`),\n          import(`${rootPrefix}/webfoundry/app.js`),\n        ]);\n        document.body.prepend(md.default.el(mapp.default));\n        parent.postMessage({ path: `pages/${location.pathname.slice(1).split('/').slice(3).join('/')}`, type: 'ready', status: 200 }, wforigin);\n      })();\n    </script>\n  </body>\n</html>\n","pages/index.html":"<!doctype html>\n<html>\n  <head>\n    <meta charset=\"utf-8\" />\n    <title>ecstaz</title>\n    <meta\n      name=\"viewport\"\n      content=\"width=device-width, initial-scale=1, maximum-scale=1\"\n    />\n    <script>\n      window.rootPrefix = /^\\/(files|preview)\\//.test(location.pathname)\n        ? location.pathname.split('/').slice(0, 4).join('/')\n        : '/';\n    </script>\n    <script type=\"module\" src=\"../webfoundry/ifdesigner.js\"></script>\n    <script src=\"../webfoundry/head.js\"></script>\n  </head>\n  <body\n    class=\"flex flex-col [&amp;&gt;div:first-child]:flex-1 min-h-screen\"\n    style=\"display: none\"\n  >\n    <div\n      class=\"flex flex-col flex-1\"\n      wf-onattach=\"post('ecstaz.init')\"\n      wf-ondetach=\"post('ecstaz.teardown')\"\n    >\n      <div class=\"flex-1 bg-neutral-950\">\n        <style>\n          .prose {\n            font-size: inherit;\n            line-height: 1.75;\n            color: inherit;\n          }\n\n          .prose > * {\n            margin-block: 1.25rem;\n          }\n\n          .prose > :first-child {\n            margin-top: 0;\n          }\n\n          .prose > :last-child {\n            margin-bottom: 0;\n          }\n\n          .prose > h1,\n          .prose > h2,\n          .prose > h3,\n          .prose > h4,\n          .prose > h5,\n          .prose > h6 {\n            font-weight: 600;\n            line-height: 1.2;\n            letter-spacing: -0.01em;\n          }\n\n          .prose > h1 {\n            font-size: clamp(2.25rem, 4vw, 3rem);\n          }\n\n          .prose > h2 {\n            font-size: clamp(1.75rem, 3vw, 2.25rem);\n          }\n\n          .prose > h3 {\n            font-size: clamp(1.35rem, 2.5vw, 1.75rem);\n          }\n\n          .prose > ul,\n          .prose > ol {\n            padding-left: 1.5rem;\n            margin-block: 1.25rem;\n          }\n\n          .prose ul ul,\n          .prose ol ol {\n            margin-block: 0.5rem;\n          }\n\n          .prose ul {\n            list-style: disc;\n          }\n\n          .prose ol {\n            list-style: decimal;\n          }\n\n          .prose li {\n            margin-block: 0.25rem;\n          }\n\n          .prose > blockquote {\n            border-left: 3px solid rgba(148, 163, 184, 0.4);\n            padding-left: 1.25rem;\n            font-style: italic;\n            color: rgba(226, 232, 240, 0.7);\n          }\n\n          .prose > pre {\n            background: rgb(15 23 42 / 0.7);\n            padding: 1rem 1.25rem;\n            border-radius: 1rem;\n            font-size: 0.9rem;\n            overflow-x: auto;\n            border: 1px solid rgba(148, 163, 184, 0.2);\n          }\n\n          .prose code {\n            font-family:\n              'JetBrains Mono', ui-monospace, SFMono-Regular, Menlo, Monaco,\n              Consolas, 'Liberation Mono', 'Courier New', monospace;\n            background: rgb(15 23 42 / 0.6);\n            padding: 0.15rem 0.4rem;\n            border-radius: 0.5rem;\n            font-size: 0.85em;\n          }\n\n          .prose pre code {\n            background: transparent;\n            padding: 0;\n          }\n\n          .prose strong,\n          .prose b {\n            font-weight: 600;\n          }\n\n          .prose em,\n          .prose i {\n            font-style: italic;\n          }\n\n          .prose > table,\n          .prose table {\n            width: 100%;\n            border-collapse: collapse;\n            font-size: 0.95rem;\n            overflow: hidden;\n            border-radius: 1rem;\n            border: 1px solid rgba(148, 163, 184, 0.25);\n          }\n\n          .prose table th,\n          .prose table td {\n            border: 1px solid rgba(148, 163, 184, 0.25);\n            padding: 0.65rem 0.75rem;\n            text-align: left;\n          }\n\n          .prose table th {\n            background: rgb(15 23 42 / 0.6);\n            font-weight: 600;\n            text-transform: uppercase;\n            letter-spacing: 0.08em;\n            font-size: 0.75rem;\n            color: rgba(248, 250, 252, 0.75);\n          }\n\n          .prose table tbody tr:nth-child(odd) {\n            background: rgb(15 23 42 / 0.3);\n          }\n\n          .prose a {\n            text-decoration: underline;\n          }\n\n          .prose > hr {\n            border: none;\n            border-top: 1px solid rgba(148, 163, 184, 0.3);\n            margin-block: 2rem;\n          }\n\n          .prose [contenteditable]:focus,\n          [contenteditable].prose:focus {\n            outline: none !important; /* suppress UA outline safely */\n          }\n\n          [contenteditable][data-placeholder]:empty:before {\n            content: attr(data-placeholder);\n            color: rgba(148, 163, 184, 0.6);\n            pointer-events: none;\n          }\n        </style>\n        <div\n          wf-if=\"state.ecstaz.ready\"\n          class=\"max-w-5xl mx-auto px-6 py-12 flex flex-col gap-10 text-neutral-100\"\n        >\n          <div class=\"flex flex-col gap-6\">\n            <div class=\"flex items-start justify-between gap-6 flex-wrap\">\n              <div class=\"flex-1 min-w-[250px]\">\n                <div\n                  class=\"text-xs tracking-[0.65em] uppercase text-neutral-500\"\n                >\n                  <input\n                    wf-if=\"state.ecstaz.editable\"\n                    type=\"text\"\n                    class=\"bg-transparent w-full focus:outline-none border-none focus:ring-0 uppercase tracking-[0.65em] text-xs text-neutral-400\"\n                    placeholder=\"Click to set site label\"\n                    wf-value=\"state.ecstaz.siteTitleDraft\"\n                    wf-onfocus=\"post('ecstaz.siteTitleFocus', event)\"\n                    wf-oninput=\"post('ecstaz.siteTitleInput', event)\"\n                    wf-onblur=\"post('ecstaz.siteTitleBlur', event)\"\n                    value=\"\"\n                    hidden=\"\"\n                  />\n                  <div wf-if=\"!state.ecstaz.editable\">\n                    {{state.ecstaz.siteTitle}}\n                  </div>\n                </div>\n                <div class=\"mt-4\">\n                  <input\n                    wf-if=\"state.ecstaz.editable\"\n                    type=\"text\"\n                    class=\"w-full bg-transparent text-4xl sm:text-5xl font-light leading-tight text-neutral-100 focus:outline-none border-none focus:ring-0 px-0\"\n                    wf-value=\"state.ecstaz.titleDraft\"\n                    wf-onfocus=\"post('ecstaz.titleInputFocus', event)\"\n                    wf-oninput=\"post('ecstaz.titleInput', event)\"\n                    wf-onblur=\"post('ecstaz.titleInputBlur', event)\"\n                    value=\"\"\n                    placeholder=\"Click here to name the page\"\n                    hidden=\"\"\n                  />\n                  <div\n                    wf-if=\"!state.ecstaz.editable\"\n                    class=\"text-4xl sm:text-5xl font-light leading-tight\"\n                  >\n                    {{state.ecstaz.activePage.title}}\n                  </div>\n                </div>\n              </div>\n              <div\n                class=\"flex items-center justify-end gap-3 flex-wrap\"\n                wf-if=\"state.ecstaz.editable\"\n              >\n                <button\n                  class=\"h-11 w-11 rounded-full border border-neutral-800 flex items-center justify-center text-lg hover:border-neutral-100 transition-colors\"\n                  wf-onclick=\"post('ecstaz.requestCreatePage')\"\n                  aria-label=\"New page\"\n                  value=\"\"\n                >\n                  <span class=\"nf nf-fa-plus\"></span>\n                </button>\n                <button\n                  class=\"h-11 w-11 rounded-full border border-neutral-800 flex items-center justify-center text-lg transition-colors hover:border-neutral-100\"\n                  wf-onclick=\"post('ecstaz.requestArchivePage')\"\n                  aria-label=\"Archive page\"\n                  value=\"\"\n                >\n                  <span class=\"nf nf-oct-x\"></span>\n                </button>\n                <div class=\"flex items-center gap-2 flex-wrap justify-end\">\n                  <button\n                    wf-map=\"page of state.ecstaz.pageList\"\n                    class=\"px-4 py-1.5 rounded-full text-[11px] tracking-[0.25em] uppercase border border-neutral-800 text-neutral-400 hover:border-neutral-200 hover:text-neutral-50 transition-colors\"\n                    wf-class=\"{{state.ecstaz.currentPath === page.key ? 'border-neutral-50 text-neutral-50' : ''}}\"\n                    wf-onclick=\"post('ecstaz.selectPage', page.key)\"\n                    value=\"\"\n                  >\n                    {{page.title}}\n                  </button>\n                </div>\n              </div>\n              <div class=\"w-full -mt-3\">\n                <input\n                  wf-if=\"state.ecstaz.editable\"\n                  type=\"text\"\n                  class=\"w-full bg-transparent leading-tight font-light text-neutral-100 focus:outline-none border-none focus:ring-0 px-0 placeholder:italic text-3xl\"\n                  placeholder=\"Click here to enter a page heading\"\n                  wf-value=\"state.ecstaz.activePage.heading\"\n                  wf-oninput=\"post('ecstaz.updateHeading', event)\"\n                  wf-onblur=\"post('ecstaz.persist')\"\n                  value=\"\"\n                  hidden=\"\"\n                />\n                <div\n                  wf-if=\"!state.ecstaz.editable &amp;&amp; state.ecstaz.activePage.heading\"\n                  class=\"leading-tight font-light text-3xl\"\n                >\n                  {{state.ecstaz.activePage.heading}}\n                </div>\n              </div>\n            </div>\n            <div class=\"text-xs text-amber-400\" wf-if=\"state.ecstaz.flash\">\n              {{state.ecstaz.flash}}\n            </div>\n            <div\n              class=\"relative\"\n              wf-ondetach=\"post('ecstaz.detachPaletteHost')\"\n              wf-onattach=\"post('ecstaz.attachPaletteHost', _1)\"\n            >\n              <div class=\"prose\">\n                <div\n                  class=\"min-h-[420px]\"\n                  wf-ondetach=\"post('ecstaz.detachEditor')\"\n                  wf-onattach=\"post('ecstaz.attachEditor', _1)\"\n                ></div>\n              </div>\n              <div\n                class=\"absolute z-20 pointer-events-none\"\n                wf-if=\"state.ecstaz.editable &amp;&amp; state.ecstaz.commandPalette.active\"\n                wf-ondetach=\"post('ecstaz.detachCommandPaletteEl')\"\n                wf-onattach=\"post('ecstaz.attachCommandPaletteEl', _1)\"\n                hidden=\"\"\n              >\n                <div class=\"pointer-events-auto flex flex-col gap-2\">\n                  <div\n                    class=\"inline-flex items-center gap-2 rounded-full border border-neutral-800 bg-neutral-900/95 px-3 py-1.5 text-sm text-neutral-400 shadow-xl\"\n                  >\n                    <span class=\"text-lg leading-none text-neutral-500\">/</span>\n                    <input\n                      type=\"text\"\n                      class=\"bg-transparent placeholder:text-neutral-600 focus:outline-none text-neutral-100 text-sm w-28 sm:w-32\"\n                      placeholder=\"Filter...\"\n                      value=\"\"\n                      wf-oninput=\"post('ecstaz.updateCommandFilter', event)\"\n                      wf-onkeydown=\"post('ecstaz.commandFilterKeydown', event)\"\n                      wf-onattach=\"post('ecstaz.commandFilterInputAttach', _1)\"\n                      wf-ondetach=\"post('ecstaz.commandFilterInputDetach')\"\n                      wf-value=\"state.ecstaz.commandFilter\"\n                    />\n                  </div>\n                  <div\n                    class=\"bg-neutral-950/95 border border-neutral-900 rounded-3xl shadow-2xl max-w-md w-full max-h-[50vh] overflow-auto\"\n                  >\n                    <div\n                      wf-if=\"state.ecstaz.filteredPalette.length\"\n                      class=\"divide-y divide-neutral-900\"\n                    >\n                      <div\n                        wf-map=\"section of state.ecstaz.filteredPalette\"\n                        class=\"px-4 py-4 flex flex-col gap-3\"\n                      >\n                        <div\n                          class=\"text-xs uppercase tracking-[0.35em] text-neutral-500\"\n                        >\n                          {{section.title}}\n                        </div>\n                        <div class=\"flex flex-col gap-1\">\n                          <button\n                            wf-map=\"item of section.items\"\n                            class=\"flex w-full items-center gap-3 rounded-2xl border border-transparent px-3 py-2 text-left transition-colors hover:border-neutral-700 hover:bg-neutral-900\"\n                            wf-class=\"{{item.activeKey &amp;&amp; state.ecstaz.editor?.isActive(item.activeKey, item.activeAttrs || {}) ? 'border-neutral-700 bg-neutral-900/70' : ''}}\"\n                            wf-onclick=\"post('ecstaz.paletteSelect', item.id)\"\n                            value=\"\"\n                            type=\"button\"\n                          >\n                            <div\n                              class=\"h-10 w-10 rounded-2xl border border-neutral-800 bg-neutral-900/70 flex items-center justify-center\"\n                            >\n                              <span\n                                class=\"text-lg text-neutral-100\"\n                                wf-class=\"{{item.icon ? item.icon : 'nf-md-shape'}}\"\n                              ></span>\n                            </div>\n                            <div class=\"flex-1\">\n                              <div class=\"text-sm text-neutral-100\">\n                                {{item.label}}\n                              </div>\n                              <div\n                                wf-if=\"item.description\"\n                                class=\"text-xs text-neutral-500\"\n                              >\n                                {{item.description}}\n                              </div>\n                            </div>\n                          </button>\n                        </div>\n                      </div>\n                    </div>\n                    <div\n                      wf-if=\"!state.ecstaz.filteredPalette.length\"\n                      class=\"px-4 py-6 text-center text-sm text-neutral-500\"\n                    >\n                      <div wf-if=\"state.ecstaz.commandFilter\">\n                        No matches for \"{{state.ecstaz.commandFilter}}\".\n                      </div>\n                      <div wf-if=\"!state.ecstaz.commandFilter\">\n                        Start typing to filter blocks.\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n              <div\n                class=\"absolute z-10 pointer-events-none\"\n                wf-if=\"state.ecstaz.editable &amp;&amp; state.ecstaz.formatBar.visible\"\n                wf-onattach=\"post('ecstaz.attachFormatBarEl', _1)\"\n                wf-ondetach=\"post('ecstaz.detachFormatBarEl')\"\n                hidden=\"\"\n              >\n                <div\n                  class=\"pointer-events-auto flex items-center gap-3 rounded-full border border-neutral-900 bg-neutral-950/90 px-4 py-1 shadow-xl\"\n                >\n                  <div\n                    class=\"text-neutral-500 text-lg select-none cursor-move\"\n                    aria-hidden=\"true\"\n                    wf-onpointerdown=\"post('ecstaz.formatBarPointerDown', event)\"\n                  >\n                    ⋮\n                  </div>\n                  <button\n                    class=\"text-sm px-2 py-1 rounded-full border border-transparent hover:border-neutral-700 hover:bg-neutral-900\"\n                    wf-class=\"{{state.ecstaz.editor?.isActive('bold') ? 'border-neutral-700 bg-neutral-900/70' : ''}}\"\n                    wf-onclick=\"post('ecstaz.command', 'bold')\"\n                    type=\"button\"\n                    value=\"\"\n                    wf-onmousedown=\"post('ecstaz.formatBarKeep', event)\"\n                  >\n                    B\n                  </button>\n                  <button\n                    class=\"text-sm px-2 py-1 rounded-full border border-transparent hover:border-neutral-700 hover:bg-neutral-900\"\n                    wf-class=\"{{state.ecstaz.editor?.isActive('italic') ? 'border-neutral-700 bg-neutral-900/70' : ''}}\"\n                    wf-onclick=\"post('ecstaz.command', 'italic')\"\n                    type=\"button\"\n                    value=\"\"\n                    wf-onmousedown=\"post('ecstaz.formatBarKeep', event)\"\n                  >\n                    I\n                  </button>\n                  <button\n                    class=\"text-sm px-2 py-1 rounded-full border border-transparent hover:border-neutral-700 hover:bg-neutral-900\"\n                    wf-class=\"{{state.ecstaz.editor?.isActive('heading', { level: 2 }) ? 'border-neutral-700 bg-neutral-900/70' : ''}}\"\n                    wf-onclick=\"post('ecstaz.command', 'h2')\"\n                    type=\"button\"\n                    value=\"\"\n                    wf-onmousedown=\"post('ecstaz.formatBarKeep', event)\"\n                  >\n                    H2\n                  </button>\n                  <button\n                    class=\"text-sm px-2 py-1 rounded-full border border-transparent hover:border-neutral-700 hover:bg-neutral-900\"\n                    wf-class=\"{{state.ecstaz.editor?.isActive('heading', { level: 3 }) ? 'border-neutral-700 bg-neutral-900/70' : ''}}\"\n                    wf-onclick=\"post('ecstaz.command', 'h3')\"\n                    type=\"button\"\n                    value=\"\"\n                    wf-onmousedown=\"post('ecstaz.formatBarKeep', event)\"\n                  >\n                    H3\n                  </button>\n                  <button\n                    class=\"text-sm px-2 py-1 rounded-full border border-transparent hover:border-neutral-700 hover:bg-neutral-900\"\n                    wf-class=\"{{state.ecstaz.editor?.isActive('bulletList') ? 'border-neutral-700 bg-neutral-900/70' : ''}}\"\n                    wf-onclick=\"post('ecstaz.command', 'ul')\"\n                    wf-onmousedown=\"post('ecstaz.formatBarKeep', event)\"\n                    type=\"button\"\n                    value=\"\"\n                  >\n                    •\n                  </button>\n                  <button\n                    class=\"text-sm px-2 py-1 rounded-full border border-transparent hover:border-neutral-700 hover:bg-neutral-900\"\n                    wf-class=\"{{state.ecstaz.editor?.isActive('orderedList') ? 'border-neutral-700 bg-neutral-900/70' : ''}}\"\n                    wf-onclick=\"post('ecstaz.command', 'ol')\"\n                    wf-onmousedown=\"post('ecstaz.formatBarKeep', event)\"\n                    type=\"button\"\n                    value=\"\"\n                  >\n                    1.\n                  </button>\n                  <button\n                    class=\"text-sm px-2 py-1 rounded-full border border-transparent hover:border-neutral-700 hover:bg-neutral-900\"\n                    wf-class=\"{{state.ecstaz.editor?.isActive('blockquote') ? 'border-neutral-700 bg-neutral-900/70' : ''}}\"\n                    wf-onclick=\"post('ecstaz.command', 'quote')\"\n                    wf-onmousedown=\"post('ecstaz.formatBarKeep', event)\"\n                    type=\"button\"\n                    value=\"\"\n                  >\n                    ❝\n                  </button>\n                  <button\n                    class=\"text-sm px-2 py-1 rounded-full border border-transparent hover:border-neutral-700 hover:bg-neutral-900\"\n                    wf-class=\"{{state.ecstaz.editor?.isActive('codeBlock') ? 'border-neutral-700 bg-neutral-900/70' : ''}}\"\n                    wf-onclick=\"post('ecstaz.command', 'code')\"\n                    wf-onmousedown=\"post('ecstaz.formatBarKeep', event)\"\n                    type=\"button\"\n                    value=\"\"\n                  >\n                    { }\n                  </button>\n                  <button\n                    class=\"text-sm px-2 py-1 rounded-full border border-transparent hover:border-neutral-700 hover:bg-neutral-900\"\n                    wf-onclick=\"post('ecstaz.command', 'hr')\"\n                    wf-onmousedown=\"post('ecstaz.formatBarKeep', event)\"\n                    type=\"button\"\n                    value=\"\"\n                  >\n                    —\n                  </button>\n                  <button\n                    class=\"text-sm px-2 py-1 rounded-full border border-transparent hover:border-neutral-700 hover:bg-neutral-900 nf nf-md-table_large\"\n                    wf-onclick=\"post('ecstaz.command', 'table')\"\n                    wf-onmousedown=\"post('ecstaz.formatBarKeep', event)\"\n                    type=\"button\"\n                    value=\"\"\n                  ></button>\n                  <button\n                    class=\"text-sm px-2 py-1 rounded-full border border-transparent hover:border-neutral-700 hover:bg-neutral-900 nf nf-md-image\"\n                    wf-onclick=\"post('ecstaz.command', 'image')\"\n                    wf-onmousedown=\"post('ecstaz.formatBarKeep', event)\"\n                    type=\"button\"\n                    value=\"\"\n                  ></button>\n                </div>\n              </div>\n              <div\n                class=\"absolute z-10 pointer-events-none\"\n                wf-if=\"state.ecstaz.editable &amp;&amp; state.ecstaz.gridUi.active\"\n                wf-onattach=\"post('ecstaz.attachGridPanelEl', _1)\"\n                wf-ondetach=\"post('ecstaz.detachGridPanelEl')\"\n                hidden=\"\"\n              >\n                <div\n                  class=\"pointer-events-auto border border-neutral-900 rounded-3xl bg-neutral-950/95 p-4 space-y-4 shadow-2xl min-w-[320px]\"\n                >\n                  <div\n                    class=\"text-xs uppercase tracking-[0.35em] text-neutral-500\"\n                  >\n                    Grid Controls\n                  </div>\n                  <div class=\"flex flex-wrap items-center gap-6\">\n                    <div class=\"flex flex-col gap-2\">\n                      <label\n                        class=\"text-[10px] uppercase tracking-[0.35em] text-neutral-500\"\n                        >Columns</label\n                      >\n                      <input\n                        type=\"range\"\n                        min=\"1\"\n                        max=\"4\"\n                        step=\"1\"\n                        class=\"w-44 accent-neutral-200\"\n                        wf-onattach=\"post('ecstaz.bindGridInput', 'cols', _1)\"\n                        wf-oninput=\"post('ecstaz.gridUiChangeCols', event)\"\n                        value=\"3\"\n                      />\n                      <div class=\"text-sm text-neutral-400\">\n                        {{state.ecstaz.gridUi.cols}} columns\n                      </div>\n                    </div>\n                    <div class=\"flex flex-col gap-2\">\n                      <label\n                        class=\"text-[10px] uppercase tracking-[0.35em] text-neutral-500\"\n                        >Gap (rem)</label\n                      >\n                      <input\n                        type=\"range\"\n                        min=\"0.25\"\n                        max=\"6\"\n                        step=\"0.25\"\n                        class=\"w-44 accent-neutral-200\"\n                        wf-onattach=\"post('ecstaz.bindGridInput', 'gap', _1)\"\n                        wf-oninput=\"post('ecstaz.gridUiChangeGap', event)\"\n                        value=\"3.25\"\n                      />\n                      <div class=\"text-sm text-neutral-400\">\n                        Gap {{state.ecstaz.gridUi.gap}} rem\n                      </div>\n                    </div>\n                  </div>\n                  <div class=\"space-y-2\">\n                    <div\n                      class=\"text-[10px] uppercase tracking-[0.35em] text-neutral-500\"\n                    >\n                      Column widths\n                    </div>\n                    <div class=\"flex flex-col gap-3\">\n                      <div\n                        wf-map=\"entry of state.ecstaz.gridUi.entries\"\n                        class=\"flex flex-wrap items-center gap-2\"\n                      >\n                        <span class=\"text-xs text-neutral-500\"\n                          >Col {{entry.idx + 1}}</span\n                        >\n                        <input\n                          type=\"text\"\n                          class=\"w-20 rounded-2xl border border-neutral-800 bg-neutral-950/80 px-3 py-1 text-sm text-neutral-100\"\n                          placeholder=\"1fr\"\n                          wf-onattach=\"post('ecstaz.bindGridWidthInput', entry.idx, _1)\"\n                          wf-onchange=\"post('ecstaz.gridUiChangeWidth', entry.idx, event)\"\n                          value=\"\"\n                        />\n                        <label class=\"text-xs text-neutral-500\">Col span</label>\n                        <input\n                          type=\"number\"\n                          min=\"1\"\n                          max=\"4\"\n                          class=\"w-16 rounded-2xl border border-neutral-800 bg-neutral-950/80 px-2 py-1 text-sm text-neutral-100\"\n                          wf-value=\"entry.colSpan\"\n                          wf-onchange=\"post('ecstaz.gridUiChangeColSpan', entry.idx, event)\"\n                          value=\"\"\n                        />\n                        <label class=\"text-xs text-neutral-500\">Row span</label>\n                        <input\n                          type=\"number\"\n                          min=\"1\"\n                          max=\"4\"\n                          class=\"w-16 rounded-2xl border border-neutral-800 bg-neutral-950/80 px-2 py-1 text-sm text-neutral-100\"\n                          wf-value=\"entry.rowSpan\"\n                          wf-onchange=\"post('ecstaz.gridUiChangeRowSpan', entry.idx, event)\"\n                          value=\"\"\n                        />\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div\n        wf-if=\"!state.ecstaz.ready\"\n        class=\"flex items-center justify-center py-32 text-neutral-500 text-sm\"\n        hidden=\"\"\n      >\n        Loading the monochrome builder…\n      </div>\n    </div>\n  </body>\n</html>\n","components/Dialogs.html":"<!doctype html>\n<html>\n  <head>\n    <meta charset=\"utf-8\" />\n    <title>Dialogs.html</title>\n    <meta\n      name=\"viewport\"\n      content=\"width=device-width, initial-scale=1, maximum-scale=1\"\n    />\n    <script>\n      window.rootPrefix = /^\\/(files|preview)\\//.test(location.pathname)\n        ? location.pathname.split('/').slice(0, 4).join('/')\n        : '/';\n    </script>\n    <script type=\"module\" src=\"../webfoundry/ifdesigner.js\"></script>\n    <script src=\"../webfoundry/head.js\"></script>\n  </head>\n  <body\n    class=\"flex flex-col [&amp;&gt;div:first-child]:flex-1 min-h-screen\"\n    style=\"display: none\"\n  >\n    <div class=\"p-16 flex flex-col gap-8 bg-neutral-100\">\n      <div class=\"grid xl:grid-cols-3\">\n        <div class=\"flex flex-col gap-6\">\n          <div class=\"text-3xl\">ConfirmationDialog</div>\n          <form\n            class=\"bg-white shadow rounded-lg p-6 flex flex-col border border-slate-200 gap-5 max-w-sm min-w-xs\"\n            method=\"dialog\"\n            wf-onsubmit=\"post('ecstaz.dialogSubmit', 'confirm', event)\"\n            id=\"ConfirmationDialog\"\n          >\n            <div class=\"flex items-center gap-4 transition duration-1000\">\n              <div\n                class=\"w-8 h-8 bg-black transition-all flex justify-center items-center text-neutral-50\"\n                wf-class=\"{{this.animate === 'ok' &amp;&amp; '-rotate-45 scale-90'}} {{this.animate !== 'cancel' ? 'bg-black' : 'duration-1000 bg-neutral-800 scale-80'}}\"\n              >\n                <div\n                  class=\"rotate-45 opacity-0\"\n                  wf-class=\"{{replaces opacity-0: (!this.animate || this.animate === 'cancel') &amp;&amp; 'opacity-0'}}\"\n                >\n                  ?\n                </div>\n              </div>\n              <div>{{this.props.title || 'Are you sure?'}}</div>\n            </div>\n            <div class=\"flex gap-2\">\n              <button\n                class=\"px-3 py-1 flex-1 transition-colors border border-neutral-700 hover:border-neutral-400\"\n                value=\"cancel\"\n                wf-onmouseleave=\"this.toggleAnimate(null)\"\n                wf-onmouseenter=\"this.toggleAnimate('cancel')\"\n              >\n                Cancel</button\n              ><button\n                value=\"ok\"\n                class=\"px-3 py-1 flex-1 bg-neutral-950 text-neutral-50 hover:bg-neutral-800 transition-colors border border-transparent\"\n                wf-onmouseenter=\"this.toggleAnimate('ok')\"\n                wf-onmouseleave=\"this.toggleAnimate(null)\"\n              >\n                OK\n              </button>\n            </div>\n          </form>\n        </div>\n        <div class=\"flex flex-col gap-6\">\n          <div class=\"text-3xl\">NewPageDialog</div>\n          <form\n            class=\"bg-white shadow rounded-lg p-6 flex flex-col border border-slate-200 gap-5 w-sm\"\n            method=\"dialog\"\n            wf-onsubmit=\"post('ecstaz.dialogSubmit', 'newPage', event)\"\n            id=\"NewPageDialog\"\n          >\n            <div class=\"flex items-center gap-4\">\n              <div\n                class=\"w-8 h-8 duration-1000 bg-black transition-all flex justify-center items-center text-neutral-50 text-xs\"\n                wf-class=\"{{replaces bg-black: !this.error ? 'bg-black' : 'bg-red-700'}} {{this.animate === 'ok' &amp;&amp; 'animate-ping'}} {{this.animate !== 'cancel' ? 'bg-black' : 'bg-neutral-800 scale-80'}}\"\n              >\n                <div\n                  class=\"nf nf-fa-plus relative top-0.5 opacity-0 transition-all\"\n                  wf-class=\"{{replaces opacity-0: this.animate !== 'ok' &amp;&amp; 'opacity-0'}}\"\n                ></div>\n              </div>\n              <div>New Page</div>\n            </div>\n            <div class=\"flex flex-col gap-3\">\n              <input\n                class=\"px-3 py-1 rounded border border-slate-200 bg-neutral-50 outline-none\"\n                placeholder=\"Name\"\n                wf-value=\"state.ecstaz.dialog.name\"\n                wf-onkeyup=\"post('ecstaz.dialogInput', 'name', event)\"\n                value=\"\"\n              /><input\n                class=\"px-3 py-1 rounded border border-slate-200 bg-neutral-50 outline-none\"\n                placeholder=\"Path\"\n                wf-value=\"state.ecstaz.dialog.path\"\n                wf-onkeyup=\"post('ecstaz.dialogInput', 'path', event)\"\n                value=\"\"\n              />\n            </div>\n            <div wf-if=\"state.ecstaz.dialog.error\" class=\"text-red-500 text-sm\" hidden=\"\">\n              {{state.ecstaz.dialog.error}}\n            </div>\n            <div class=\"flex gap-2\">\n              <button\n                class=\"px-3 py-1 flex-1 transition-colors border border-neutral-700 hover:border-neutral-400\"\n                value=\"cancel\"\n                wf-onmouseleave=\"this.toggleAnimate(null)\"\n                wf-onmouseenter=\"this.toggleAnimate('cancel')\"\n              >\n                Cancel</button\n              ><button\n                value=\"page\"\n                class=\"px-3 py-1 flex-1 bg-neutral-950 text-neutral-50 hover:bg-neutral-800 transition-colors border border-transparent\"\n                wf-class=\"{{replaces bg-black: !state.ecstaz.dialog.error ? 'bg-black' : 'bg-red-700'}}\"\n                wf-onmouseenter=\"this.toggleAnimate('ok')\"\n                wf-onmouseleave=\"this.toggleAnimate(null)\"\n              >\n                Create\n              </button>\n            </div>\n          </form>\n        </div>\n      </div>\n    </div>\n  </body>\n</html>\n"}